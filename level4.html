<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ç¬¬4é—œï¼šé˜²æ²»å¤–ä¾†ç¨®</title>
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%;
      font-family: "Segoe UI", sans-serif;
      background: url('assets/background forest2.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #2e7d32;
      display: flex; justify-content: center; align-items: center;
    }
    .container {
      background: rgba(255, 255, 255, 0.5);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 40px;
      width: 90%;
      max-width: 800px;
      box-shadow: 0 0 16px rgba(0,0,0,0.2);
      color: #2e7d32;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    h1 {
      text-align: center;
      margin-bottom: 0;
    }
    .rules {
      background: rgba(255, 255, 255, 0.7);
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 1em;
      text-align: center;
      color: #1b5e20;
      user-select: none;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
    .info-bar {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-weight: bold;
    }
    .timer {
      color: #d32f2f;
    }
    .question {
      font-size: 1.2em;
      margin-bottom: 20px;
    }
    .options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .option {
      background: #e8f5e9;
      border: 2px solid #c8e6c9;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s;
    }
    .option:hover {
      background: #c8e6c9;
    }
    .result {
      text-align: center;
      display: none;
      margin-top: 30px;
    }
    .result button {
      margin: 8px 12px;
      padding: 10px 20px;
      font-size: 1em;
      border: none;
      border-radius: 8px;
      background: #2e7d32;
      color: white;
      cursor: pointer;
      user-select: none;
      transition: background 0.3s;
    }
    .result button:hover {
      background: #1b4d20;
    }
    .audio-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.5);
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.2em;
      user-select: none;
      transition: background 0.3s;
      z-index: 1000;
    }
    .audio-btn:hover {
      background: rgba(255,255,255,0.75);
    }
    /* å›é¦–é æŒ‰éˆ• */
    .home-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255,255,255,0.5);
      color: #2e7d32;
      padding: 10px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.1em;
      user-select: none;
      transition: background 0.3s;
      z-index: 1000;
    }
    .home-btn:hover {
      background: rgba(255,255,255,0.75);
    }
  </style>
</head>
<body>
  <a href="index.html" class="home-btn" title="å›é¦–é ">ğŸ  å›é¦–é </a>

  <audio id="bgMusic4" src="assets/bg-music.mp3" loop preload="auto"></audio>

  <button id="muteBtn4" class="audio-btn">ğŸ”Š éŸ³æ¨‚</button>

  <div class="container">
    <h1>ç¬¬4é—œï¼šé˜²æ²»å¤–ä¾†ç¨®</h1>
    <div class="rules">é»æ“Šæ­£ç¢ºç­”æ¡ˆï¼Œæ¯é¡Œé™æ™‚ 10 ç§’ï¼Œç­”å° 10 é¡Œï¼ˆ100 åˆ†ï¼‰å³å¯é€šé—œï¼è¶…æ™‚è¦–ç‚ºç­”éŒ¯ï¼Œè‡ªå‹•åˆ‡æ›ä¸‹ä¸€é¡Œã€‚</div>

    <div class="info-bar">
      <div id="score">åˆ†æ•¸ï¼š0</div>
      <div id="progress">ç¬¬ 1 / 15 é¡Œ</div>
      <div class="timer">â±ï¸ <span id="timer">10</span> ç§’</div>
    </div>
    <div class="question" id="question"></div>
    <div class="options" id="options"></div>

    <div class="result" id="result">
      <h2 id="resultMsg"></h2>
      <div id="resultButtons"></div>
    </div>
  </div>

  <script>
    const questions = [
      { question: "ä»¥ä¸‹å“ªä¸€é …æ˜¯å¤–ä¾†ç¨®ï¼Ÿ", options: ["æ¢…èŠ±é¹¿", "å°èŠ±è”“æ¾¤è˜­", "å°ç£è—éµ²", "å°ç£é»‘ç†Š"], answer: 1 },
      { question: "ç¦å£½èºæœƒé€ æˆä»€éº¼å•é¡Œï¼Ÿ", options: ["æ°´è³ªè®Šå¥½", "ç¨»ç”°è¢«ç ´å£", "é˜²æ­¢åœŸå£¤æµå¤±", "å¹«åŠ©è¾²ä½œ"], answer: 1 },
      { question: "ä¸‹åˆ—å“ªä¸€é …ä¸æ˜¯é˜²æ²»å¤–ä¾†ç¨®çš„æ–¹æ³•ï¼Ÿ", options: ["æ”¾ç”Ÿå¤–ä¾†å‹•ç‰©", "æ§åˆ¶æ•¸é‡", "ç«‹æ³•ç¦æ­¢", "æ•™è‚²å®£å°"], answer: 0 },
      { question: "ä½•è€…å±¬æ–¼å¤–ä¾†æ¤ç‰©ï¼Ÿ", options: ["ä¹é‡è‘›", "é¦™é™„å­", "éŠ€åˆæ­¡", "é‡è–‘èŠ±"], answer: 2 },
      { question: "èª°è² è²¬ç›£æ¸¬å¤–ä¾†ç¨®ï¼Ÿ", options: ["æ•™è‚²éƒ¨", "åœ‹é˜²éƒ¨", "ç’°å¢ƒéƒ¨", "äº¤é€šéƒ¨"], answer: 2 },
      { question: "å¤–ä¾†ç¨®ç‚ºä½•å±éšªï¼Ÿ", options: ["å¹«åŠ©ç”Ÿæ…‹", "ä¿ƒé€²ç¹æ®–", "ç ´å£åŸç”Ÿç”Ÿç‰©", "è®“ç©ºæ°£è®Šä¹¾æ·¨"], answer: 2 },
      { question: "å°èŠ±è”“æ¾¤è˜­æœ‰ä»€éº¼å±å®³ï¼Ÿ", options: ["è£é£¾ç”¨", "é®é™°æ¶¼å¿«", "çºç¹æ¤ç‰©å°è‡´æ­»äº¡", "è£½ä½œè—¥æ"], answer: 2 },
      { question: "å¤–ä¾†ç¨®å¯èƒ½æ€éº¼é€²ä¾†ï¼Ÿ", options: ["è‡ªç„¶é·ç§»", "é¢¨ç½", "äººç‚ºå¼•é€²", "é¢±é¢¨"], answer: 2 },
      { question: "ç´…è€³é¾œç‚ºä»€éº¼æ˜¯å•é¡Œï¼Ÿ", options: ["å¾ˆå¯æ„›", "å£½å‘½çŸ­", "ç¹æ®–å¿«ä¸”æ’æ“ åŸç”Ÿé¾œ", "æœƒé£›"], answer: 2 },
      { question: "å¤–ä¾†ç¨®å½±éŸ¿å“ªäº›å±¤é¢ï¼Ÿ", options: ["ç¶“æ¿Ÿã€ç”Ÿæ…‹", "åªæœ‰å¥åº·", "åªæœ‰è¾²æ¥­", "åªæœ‰ç”Ÿç‰©"], answer: 0 },
      { question: "æ°´é¾éª¨å±¬æ–¼å“ªé¡æ¤ç‰©ï¼Ÿ", options: ["åŸç”Ÿç¨®", "å¤–ä¾†ç¨®", "ç‰¹æœ‰ç¨®", "ä¿è‚²é¡"], answer: 1 },
      { question: "å¤–ä¾†ç¨®å…¥ä¾µæœƒå°è‡´ä»€éº¼å¾Œæœï¼Ÿ", options: ["å¤šæ¨£æ€§æå‡", "é£Ÿç‰©éˆå¤±è¡¡", "æ°´è³ªæ”¹å–„", "ç©ºæ°£æ¸…æ–°"], answer: 1 },
      { question: "éŠ€åˆæ­¡å°è¾²åœ°çš„å½±éŸ¿ç‚ºä½•ï¼Ÿ", options: ["ä¿ƒé€²ç”Ÿé•·", "å¢åŠ ç”¢é‡", "æ’æ“ ä½œç‰©", "ç„¡å½±éŸ¿"], answer: 2 },
      { question: "ä»€éº¼æ˜¯ç”Ÿç‰©å…¥ä¾µï¼Ÿ", options: ["æœ¬åœŸç‰©ç¨®æ“´å¼µ", "äººé¡ç§»æ°‘", "å¤–ä¾†ç‰©ç¨®å®šæ®–ä¸¦æ“´å¼µ", "æ°£å€™è®Šé·"], answer: 2 },
      { question: "ç´…ç«èŸ»å°äººé¡æœ‰ä»€éº¼å±å®³ï¼Ÿ", options: ["æœƒå’¬äººä¸”éæ•", "è£é£¾ç”¨é€”", "æ²’æœ‰å±å®³", "å¹«åŠ©æˆç²‰"], answer: 0 },
      { question: "å“ªç¨®ä¸æ˜¯å¤–ä¾†å‹•ç‰©ï¼Ÿ", options: ["ç¶ é¬£èœ¥", "ç™½é¼»å¿ƒ", "ç¾æ´²ç‰›è›™", "ç¦å£½èº"], answer: 1 },
      { question: "å¦‚ä½•é¿å…å¤–ä¾†ç¨®å‚³æ’­ï¼Ÿ", options: ["éš¨æ„ä¸Ÿæ£„", "å¸¶å›åœ‹å¤–", "æ­£ç¢ºæ£„ç½®èˆ‡æ•™è‚²", "å·å·æ”¾ç”Ÿ"], answer: 2 },
      { question: "ç¶ é¬£èœ¥å¸¸è¦‹åœ¨å“ªï¼Ÿ", options: ["å°åŒ—å¸‚", "é«˜é›„èˆ‡å±æ±", "èŠ±è“®", "é›¢å³¶"], answer: 1 },
      { question: "å¤–ä¾†ç¨®çš„ç”Ÿå­˜å„ªå‹¢ç‚ºï¼Ÿ", options: ["é©æ‡‰åŠ›å¼·", "è¼ƒå°é«”å‹", "ä¸åƒé£Ÿç‰©", "ä¸éœ€æ°´"], answer: 0 },
      { question: "ä½•è€…ç‚ºå¤–ä¾†ç¨®æ§åˆ¶æªæ–½ï¼Ÿ", options: ["å¢åŠ æ£²åœ°", "ç¹æ®–", "äººå·¥ç§»é™¤", "å¼•å…¥å…¶ä»–å¤–ä¾†ç¨®"], answer: 2 },
      { question: "å¤–ä¾†ç¨®é˜²æ²»çš„ç¬¬ä¸€æ­¥æ˜¯ä»€éº¼ï¼Ÿ", options: ["ç«‹æ³•", "æ”¾ç”Ÿ", "è¾¨è­˜èˆ‡é€šå ±", "æ¡æ¨£"], answer: 2 },
      { question: "é¯‰é­šå±¬æ–¼å“ªé¡ï¼Ÿ", options: ["å¤–ä¾†ç¨®é­šé¡", "ç‰¹æœ‰ç¨®", "ä¿è‚²é¡", "å“ºä¹³é¡"], answer: 0 },
      { question: "åœ¨åœ‹å®¶å…¬åœ’é‡‹æ”¾å¤–ä¾†ç¨®æœƒï¼Ÿ", options: ["å¹«åŠ©ç”Ÿæ…‹", "ç ´å£åŸç”Ÿç’°å¢ƒ", "ä¿ƒé€²ç¹æ®–", "æ”¹å–„æ°´è³ª"], answer: 1 },
      { question: "å“ªç¨®å¤–ä¾†æ¤ç‰©æœƒå¤§é‡å¸æ°´ï¼Ÿ", options: ["æ°´ç‡­", "å¸ƒè¢‹è“®", "é¦™é™„å­", "æ°´è‰"], answer: 1 },
      { question: "å¤–ä¾†ç¨®çš„å‚³æ’­åª’ä»‹å¯èƒ½æ˜¯ï¼Ÿ", options: ["å¯µç‰©èµ°å¤±", "è²¨æ«ƒèˆ‡åŒ…è£¹", "è§€è³é­šæ”¾ç”Ÿ", "ä»¥ä¸Šçš†æ˜¯"], answer: 3 },
      { question: "ç‚ºä½•ä¸èƒ½éš¨æ„æ”¾ç”Ÿï¼Ÿ", options: ["æµªè²»éŒ¢", "æœƒæ±¡æŸ“æ°´æº", "é€ æˆå¤–ä¾†ç¨®å…¥ä¾µ", "æ²’é—œä¿‚"], answer: 2 },
      { question: "å¤–ä¾†ç¨®ç®¡ç†æ³•ç”±å“ªå€‹å–®ä½è² è²¬ï¼Ÿ", options: ["äº¤é€šéƒ¨", "è¾²æ¥­éƒ¨", "æ–‡åŒ–éƒ¨", "ç§‘æŠ€éƒ¨"], answer: 1 },
      { question: "å·´è¥¿é¾œçš„å•é¡Œåœ¨æ–¼ï¼Ÿ", options: ["å¤ªå¤§éš»", "æ”»æ“Šäººé¡", "ç«¶çˆ­åŸç”Ÿé¾œé¡æ£²åœ°", "ä¸æœƒæ¸¸æ³³"], answer: 2 },
      { question: "å¤–ä¾†ç¨®å°è¾²æ¥­çš„å±å®³ï¼Ÿ", options: ["æé«˜ç”¢é‡", "é˜²æ­¢å®³èŸ²", "ç ´å£è¾²ä½œç‰©", "ä¿ƒé€²éŠ·å”®"], answer: 2 },
      { question: "æ°‘çœ¾å¦‚ä½•å”åŠ©é˜²æ²»ï¼Ÿ", options: ["é¤µé£Ÿå¤–ä¾†ç¨®", "é€šå ±æ”¿åºœèˆ‡ä¸æ”¾ç”Ÿ", "æ“´æ•£ç¹æ®–", "å¿½ç•¥å•é¡Œ"], answer: 1 },
    ];

    const selected = questions.sort(() => Math.random() - 0.5).slice(0, 15);
    let current = 0, score = 0, timer;

    function loadQuestion() {
      clearInterval(timer);
      if (current >= selected.length || score >= 100) return showResult();

      document.getElementById("question").textContent = selected[current].question;
      const optionsEl = document.getElementById("options");
      optionsEl.innerHTML = "";
      selected[current].options.forEach((opt, i) => {
        const div = document.createElement("div");
        div.textContent = opt;
        div.className = "option";
        div.onclick = () => checkAnswer(i);
        optionsEl.appendChild(div);
      });
      document.getElementById("progress").textContent = `ç¬¬ ${current + 1} / 15 é¡Œ`;

      let time = 10;
      document.getElementById("timer").textContent = time;
      timer = setInterval(() => {
        time--;
        document.getElementById("timer").textContent = time;
        if (time <= 0) {
          clearInterval(timer);
          nextQuestion();
        }
      }, 1000);
    }

    function checkAnswer(i) {
      clearInterval(timer);
      if (i === selected[current].answer) score += 10;
      document.getElementById("score").textContent = `åˆ†æ•¸ï¼š${score}`;
      nextQuestion();
    }

    function nextQuestion() {
      current++;
      loadQuestion();
    }

    function showResult() {
      document.getElementById("question").style.display = "none";
      document.getElementById("options").style.display = "none";
      document.getElementById("progress").style.display = "none";
      document.getElementById("timer").textContent = "0";

      const result = document.getElementById("result");
      const btnContainer = document.getElementById("resultButtons");
      document.getElementById("score").textContent = `ç¸½åˆ†ï¼š${score}`;
      result.style.display = "block";

      btnContainer.innerHTML = "";

      if (score >= 100) {
        document.getElementById("resultMsg").textContent = "ğŸ‰ æ­å–œä½ é€šéå¤–ä¾†ç¨®é˜²æ²»é—œå¡ï¼";

        btnContainer.innerHTML += `<button onclick="location.href='index.html'">å›é¦–é </button>`;
        btnContainer.innerHTML += `<button onclick="location.reload()">å†ä¾†ä¸€æ¬¡</button>`;
        btnContainer.innerHTML += `<button onclick="location.href='level5.html'">å‰å¾€ä¸‹ä¸€é—œ</button>`;
      } else {
        document.getElementById("resultMsg").textContent = "ğŸ’¡ æŒ‘æˆ°å¤±æ•—ï¼Œå†æ¥å†å²ï¼";

        btnContainer.innerHTML += `<button onclick="location.href='index.html'">å›é¦–é </button>`;
        btnContainer.innerHTML += `<button onclick="location.reload()">å†ä¾†ä¸€æ¬¡</button>`;
      }
    }

    // èƒŒæ™¯éŸ³æ¨‚æ§åˆ¶
    const music = document.getElementById("bgMusic4");
    const muteBtn = document.getElementById("muteBtn4");
    document.body.addEventListener("click", () => {
      if (music.paused) {
        music.volume = 0.4;
        music.play().catch(() => {});
      }
    }, { once: true });
    muteBtn.onclick = () => {
      music.muted = !music.muted;
      muteBtn.textContent = music.muted ? "ğŸ”ˆ éœéŸ³" : "ğŸ”Š éŸ³æ¨‚";
    };

    window.onload = loadQuestion;
  </script>
</body>
</html>
